# Анализ информации о компании для выявления неучтенных конфиденциальных данных

## As-Is

### Общее
- предоставляет медицинские услуги
- один офис
- 20 сотрудников и 15 медицинских специалистов
- Все операции с данными производят вручную
- процессы:
    - журналирование приёма пациентов - Excel на общем диске
    - учёт пациентов - Excel на общем диске
    - учёт платежей - Excel на общем диске
    - медицинские карты - Excel / скан на общем диске
    - учёт анализов - Excel / скан на общем диске
    - учёт денежных средств - 1С бухгалтерия
    - приём средств на кассе - интеграция с 1С бухгалтерией
    - учёт торгово-материальных ценностей (ТМЦ) - 1С торговля. Интегрирована с 1С бухгалтерией
- обслуживает пациентов на территории РФ

### Проблемы
- работа с конфиденциальными и персональными данными не в полной мере отвечает требованиям законодательства РФ
    - репутационные и финансовые риски для компании
-  сформулированы бизнес-потребности от CTO:
    - Изменить парадигму хранения и учёта конфиденциальных данных. Она должна соответствовать принципам и требованиям законодательства РФ.
    - Снизить риски утечки данных, чтобы увеличить доверие и лояльность клиентов.

### Структура компании
- Шесть отделов
    - Медицинские специалисты - 15
        - ведут приём пациентов
        - работают с медицинскими картами
        - работают с анализами
    - Ресепшен - 3
        - ведут журнал записей к специалистам
        - заключают клиентские контракты
    - Кассиры - 3
        - принимают платежи
        - ведут двойной учёт в Excel и 1C
    - Бухгалтерия - 3
        - занимаются процессингом платежей
        - ведут бухгалтерию, которая связана с учётом кадров, выплатой зарплаты и налогами
    - Склад - 3
        - учёт ТМЦ
        - закупки оборудования для медицинских кабинетов
    - IT - 3
        - Техдир (он же архитектор). Стек - Java, Postgres, ClickHouse, Elastic, Kubernetes и Victoria Metrics
        - Администратор сети. От починки принтера до развёртывания кластера Kubernetes
        - Бизнес-аналитик. Строит отчёты (P&L, ABC-анализ и другие) на основе Excel при помощи Jupiter и Python
- Если для автоматизации процессов и усиления безопасности данных нужны новые сотрудники, руководство выделит необходимые ресурсы

### Архитектура

- Все сервисы развернуты на собственном сервере
- Сервер находится в том же здании что и офис
- Текущий стек:
    - Excel, Outlook, 1C - все в локальной сети офиса
    - 1С (Бухглатерия, Торговля) - работают в файловом режиме (альтернатива - клиент-серверный).
    - Microsoft Windows Server 2022
        - Active Directory
        - DNS
        - DHCP
        - LDAP
        - файловый сервер
        - Exchange Mail Server
    - кассы связаны с сервером через TCP/IP и компоненту 1С по технологии OLE

### Собираемые данные
- Основная информация
    - Ф. И. О.
    - дата рождения
    - телефон
    - электронная почта
- Расширенная
    - адреса прописки
    - месте работы или учёбы
    - хронические заболевания
- Всю эту информацию сотрудники обрабатывают вручную
- Хранятся данные локально на сетевом диске сервера, в основном Excel, JPG и PDF
- Чтение и запись идет без аудита действий
- Внутренние потоки данных никак не контролируются
- Кроме доменной аутентификации, со стороны систем обработки нет ограничений на доступ к данным

## Цели бизнеса

1. Обеспечить конфиденциальность, целостность и доступность данных
2. Интеграция с API лаборатории анализов
    - Контракты API должны закрывать и скрывать категории данных, которые явно представляют конфиденциальные данные.
    - Необходимо предотвратить использование API контрактов, которые позволяют выполнять действия и получать данные внешним пользователям, которые они не должны иметь возможности получить, третьими лицами. Например, один пациент не должен иметь возможности увидеть данные другого пациента.
    - В будущем компания планирует развивать сервисы для клиентов, в том числе ― за счёт интеграций с партнёрами. Поэтому необходимо выстроить такой подход к работе с данными по умолчанию, чтобы новые интеграции не приходилось перевалидировать.
3. Расширение направления обработки данных (новые сервисы на базе BI-, ML- и AI-технологий)
    - Необходимо создать на основе текущих Excel файлов озеро данных, которое позволит автоматизировать построение BI, создание LLM и обучение AI на этих данных с применением ML.
4. Разработка новых систем и миграция
    - Портал для клиентов.
    - Портал для сотрудников ресепшена.
    - Платёжный шлюз.
    - CRM для сбора данных о клиентах.
    - Интеграцию с лабораторией анализов.

## To-Be 

### Через пару месяцев (MVP)
- клиент сможет самостоятельно записаться на приём к специалисту через портал компании
- команда ресепшена будет видеть эту запись: сотрудники смогут отследить запись в системе и за день до приёма напомнить про него и пациенту, и специалисту
- Необходимо определить категории данных пациентов и разнести их по различным доменам. 
    - Для каждой категории данных определить роли (RBAC) или атрибуты (ABAC), на основании которых сотрудникам будет разрешён доступ к данным

### В течении года
- открытие новых филиалов
- кратный рост числа клиентов
- автоматизация для поддержания пятикратного роста объема данных и расширение команды
- усиленная безопасность медицинских карт (содержат конфиденциальные данные)

### Через год
- единая система хранения и управления данными
    - журналы приёма пациентов
    - учёт пациентов
    - учёт оплаты услуг
    - мобильное приложение клиента с личным кабинетом и функцией самостоятельной записи к врачу
- Полностью автоматический процесс записи к специалисту через портал и мобильное приложение
- Пациенту приходят оповещения о записи через мобильное приложение или голосового робота. В ответ на оповещение клиент может подтвердить или отменить запись, при этом система отправляет оповещение на ресепшен. 
- В мобильном приложении пациент может просматривать только свои данные (анализы, заключения, договор), у него нет доступа к данным других пациентов. 
- В системе есть возможность помечать тегами данные, которые необходимо защитить. 
- Релиз проверяется в автоматическом режиме на работу с тегированными данными, после чего информация передаётся в систему мониторинга и алертинга. 
- В системе появилась возможность проводить аудит доступа к данным и отслеживать нетипичные действия пользователей. 
- В случае несанкционированного доступа к данным команде приходят оповещения.

### Нефункциональные требования
- Безопасность (конфиденциальность)
    - гарантировать, что чувствительная информация будет безопасно храниться и обрабатываться. 
    - Чувствительные данные необходимо своевременно удалять. 
    - Если клиент обратится с соответствующим запросом, обработку его данных нужно прекратить.
- Масштабируемость
    - компания открывает филиалы, нанимает десятки сотрудников и даёт клиентам возможность работать через мобильное приложение.
- Сопровождаемость
    - Процесс внесения изменений и улучшений в систему должен быть лёгким.
- Конфигурируемость
    - В конфигурации можно вносить изменения без дополнительных доработок.

# Неучтенные конфиденциальные данные

1. Паспортные данные, полис ОМС
    - При заключении договора или уточнении личности пациента могут собираться паспортные данные.
	- Часто сканируются или фотографируются полис ОМС и/или паспорт.
	- Но эти сканы хранятся на общем файловом диске без отдельной структуры и без чёткого регламента хранения.
2. Дополнительная медицинская информация
	- «Хронические заболевания», информация о специфических диагнозах, результаты консультаций специалистов.
	- Где-то фигурируют в тексте комментариев (Excel) или сканах, но нет централизованного учёта в защищённой системе.
3. Адрес регистрации (прописка), место работы/учёбы
	- Формально могут быть важны при оформлении некоторых договоров или льгот.
	- Фактически хранятся в Excel либо на бумаге, системно не контролируются.
4. Сканы/копии подписанных согласий
	- Законодательство РФ требует оформлять согласие на обработку персональных данных
    - Подписанные согласия (бумажные или в скане) хранятся несистемно в общих папках.
5. Данные о сотрудниках (тоже персональные): ИНН, СНИЛС, паспорт, медицинские книжки и т. п.
	- Формально ведутся в 1С Бухгалтерия (кадровый учёт), но фактически сканы документов могут также храниться в «общих папках» без строгого контроля.
